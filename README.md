# sap-malware-scanning-vsi

This projects implements the BAdI VSCAN_INSTANCE (Interface IF_EX_VSCAN_INSTANCE) of the [Virus Scan Interface](https://help.sap.com/docs/ABAP_PLATFORM_NEW/1531c8a1792f45ab95a4c49ba16dc50b/4e2606c3c61920cee10000000a42189c.html?locale=en-US) using the [SAP Malware Scanning Service](https://api.sap.com/api/MalwareScanAPI/overview).

## Installation

1. Create an instance of the SAP Malware Scanning Service using the SAP BTP Cockpit
1. Create a service key for the instance
1. Create a destination named MWSCAN of type G - HTTP Connection to External Server in Transaction SM59 using the URL and credentials from the service key
1. Install the project [SAP Malware Scanning Service ABAP Client](https://github.com/gregorwolf/generated-sap-malware-scanning-openapi) and this project in your SAP system using [abapGit](https://abapgit.org/)
1. Configure a Scanner Group for MWSCAN in Transaction VSCANGROUP following the documentation [Defining Scanner Groups](https://help.sap.com/docs/ABAP_PLATFORM_NEW/1531c8a1792f45ab95a4c49ba16dc50b/4df58297472d41c4e10000000a42189c.html?locale=en-US)
1. Create an implementation for the BAdI VSCAN_INSTANCE in Transaction SE19 using the implementation class ZCL_MWSCAN_VSCAN_BADI. Add the Scanner Group defined in the previous step as the filter. Do not forget to activate the BAdI.
1. Test the configuration using transaction VSCANTEST
